<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Agent Reports</title>
  <link href="{{url_for('static',filename='css/bootstrap.min.css')}}" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" href="{{url_for('static', filename='styles/admin/admin.css')}}" />
</head>
<body class="bg-light">
  <header>
    <script src="{{url_for('static',filename='js/bootstrap.min.js')}}" type="text/javascript"></script>
        <nav class="navbar">
            <div class="logo"><a class='vc'href="{{url_for('adminDashboard')}}">Visa Consultancy</a></div>
            <ul class="nav-links">
                <li><a href="{{url_for('checkRegistrations')}}">Check Registration</a></li>
                <li><a href="{{url_for('lookClients')}}">View Client</a></li>
                <li><a href="{{url_for('lookAgents')}}">View Agent</a></li>
                <li><button id="logoutBtn" class="btn btn-danger">Logout</button></li>
            </ul>
        </nav>
    </header>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="alert alert-{{ category }} " role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}<br>

<div class="container mt-6">
  <h2 class="mb-4 text-center">Visa Consultancy Agent Reports</h2>

  {% if data %}
    <div class="row g-4">
      {% for row in data %}
        <div class="col-md-6 col-lg-">
          <div class="card shadow-sm h-100 border-0 rounded-3">
            <div class="card-body">
              <h5 class="card-title text-primary">Agent ID: {{ row.agent_id }}</h5>
              <h6 class="card-subtitle mb-2 text-muted">
                {{ row.first_name }} {{ row.last_name }}
              </h6>
              <p class="mb-1"><strong>Phone:</strong> {{ row.phone }}</p>
              <p class="card-text mt-2">{{ row.content }}</p>
            </div>
            <div class="card-footer bg-white border-0 text-end">
              <small class="text-muted">Date: {{ row.date }}</small>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-warning text-center">No reports found.</div>
  {% endif %}
</div>

<script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
</body>
</html>
